(this.webpackJsonppls=this.webpackJsonppls||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),c=a.n(r),s=(a(16),a(4)),o=a(2),i=a(3);var m=()=>{const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)({title:"",type:"",location:"",date:""});Object(n.useEffect)(()=>{fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/events").then(e=>e.json()).then(e=>t(e)).catch(e=>console.error("Error fetching events:",e))},[]);const c=e=>{const{name:t,value:a}=e.target;r(e=>Object(i.a)(Object(i.a)({},e),{},{[t]:a}))},[s,o]=Object(n.useState)(()=>{const e=localStorage.getItem("registeredEvents");return e?JSON.parse(e):[]});Object(n.useEffect)(()=>{fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/events").then(e=>e.json()).then(e=>t(e)).catch(e=>console.error("Error fetching events:",e))},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"hero"},l.a.createElement("h1",{className:"hero-title"},"Welcome to JIHC Events"),l.a.createElement("p",{className:"hero-subtitle"},"Discover, learn, and connect.")),l.a.createElement("div",{className:"search-section"},l.a.createElement("input",{type:"text",name:"title",value:a.title,onChange:c,placeholder:"Enter event name",className:"search-input"}),l.a.createElement("select",{name:"type",value:a.type,onChange:c,className:"filter-dropdown"},l.a.createElement("option",{value:""},"Select Event Type"),["Workshop","Seminar","Training","Exhibition","Fair","Bootcamp"].map((e,t)=>l.a.createElement("option",{key:t,value:e},e))),l.a.createElement("select",{name:"location",value:a.location,onChange:c,className:"filter-dropdown"},l.a.createElement("option",{value:""},"Select Location"),["Hybrid","Online","Campus Auditorium","City Hall","Innovation Center","Main Auditorium","Wellness Center","Tech Park"].map((e,t)=>l.a.createElement("option",{key:t,value:e},e))),l.a.createElement("input",{type:"date",name:"date",value:a.date,onChange:c,className:"search-input"}),l.a.createElement("button",{onClick:()=>{const n=e.filter(e=>{const t=""===a.title||e.title.toLowerCase().includes(a.title.toLowerCase()),n=""===a.type||e.type.toLowerCase().includes(a.type.toLowerCase()),l=""===a.location||e.location.toLowerCase().includes(a.location.toLowerCase()),r=""===a.date||e.date===a.date;return t&&n&&l&&r});t(n)},className:"search-btn"},"Search")),l.a.createElement("div",{className:"events-container"},e.map(e=>{const t=s.includes(e.id),a=e.attendees/e.maxAttendees*100;return l.a.createElement("div",{key:e.id,className:"event-card"},l.a.createElement("img",{src:e.image,alt:e.title,className:"event-image"}),l.a.createElement("div",{className:"image-badge"},e.price),l.a.createElement("div",{className:"event-details"},l.a.createElement("h3",{className:"event-title"},e.title),l.a.createElement("div",{className:"event-inline"},l.a.createElement("div",{className:"event-date"},l.a.createElement("i",{className:"fa fa-calendar","aria-hidden":"true"}),e.date),l.a.createElement("div",{className:"event-location"},l.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"}),e.location)),l.a.createElement("div",{className:"event-audience"},e.audience),l.a.createElement("div",{className:"progress-bar-container"},l.a.createElement("div",{className:"progress-fill",style:{width:"".concat(a,"%")}})),l.a.createElement("p",{className:"progress-info"},e.attendees,"/",e.maxAttendees," Attendees"),t?l.a.createElement("button",{className:"register-button registered",disabled:!0},"Registered"):l.a.createElement("button",{className:"register-button",onClick:()=>(async e=>{try{const t=1,a=await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/eventregistrations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e,userId:t})});if(a.ok)o(t=>[...t,e]),alert("You have successfully registered for the event!");else{const e=await a.json();alert(e.message||"An error occurred.")}}catch(t){console.error("Error registering for the event:",t),alert("Something went wrong. Please try again.")}})(e.id),disabled:e.attendees>=e.maxAttendees},e.attendees>=e.maxAttendees?"Event Full":"Register Now")))})))};var d=e=>{let{onClose:t,onEventCreated:a}=e;const[r,c]=Object(n.useState)({title:"",type:"",date:"",location:"",price:"",deadline:"",audience:"Student",description:"",image:"",maxAttendees:50}),s=e=>{const{name:t,value:a}=e.target;c(e=>Object(i.a)(Object(i.a)({},e),{},{[t]:a}))};return l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"modal create-event-modal"},l.a.createElement("button",{className:"close-btn",onClick:t},"\u2715"),l.a.createElement("h2",{className:"modal-title"},"Create New Event"),l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",{onSubmit:async e=>{e.preventDefault();const n=localStorage.getItem("userId");if(!n)return void alert("User ID is missing. Please log in again.");const l=Object(i.a)(Object(i.a)({},r),{},{organizerId:parseInt(n)});try{const e=await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(e.ok){const n=await e.json();alert("Event created successfully!"),a(n),t()}else{const t=await e.json();alert(t.message||"Failed to create the event.")}}catch(c){console.error("Error creating event:",c),alert("Something went wrong. Please try again.")}},className:"create-event-form"},l.a.createElement("div",{className:"form-section"},l.a.createElement("div",{className:"form-column"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"title"},"Event Title"),l.a.createElement("input",{type:"text",id:"title",name:"title",value:r.title,onChange:s,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"type"},"Event Type"),l.a.createElement("input",{type:"text",id:"type",name:"type",value:r.type,onChange:s,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"date"},"Date"),l.a.createElement("input",{type:"date",id:"date",name:"date",value:r.date,onChange:s,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"location"},"Location"),l.a.createElement("input",{type:"text",id:"location",name:"location",value:r.location,onChange:s,required:!0}))),l.a.createElement("div",{className:"form-column"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"price"},"Price"),l.a.createElement("input",{type:"text",id:"price",name:"price",value:r.price,onChange:s,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"deadline"},"Registration Deadline"),l.a.createElement("input",{type:"date",id:"deadline",name:"deadline",value:r.deadline,onChange:s,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"audience"},"Audience"),l.a.createElement("select",{id:"audience",name:"audience",value:r.audience,onChange:s,required:!0},l.a.createElement("option",{value:"Student"},"Student"),l.a.createElement("option",{value:"Teacher"},"Teacher"),l.a.createElement("option",{value:"All"},"All"))),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"maxAttendees"},"Max Attendees"),l.a.createElement("input",{type:"number",id:"maxAttendees",name:"maxAttendees",value:r.maxAttendees,onChange:s,required:!0})))),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("textarea",{id:"description",name:"description",value:r.description,onChange:s,rows:"4",required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"image"},"Image URL"),l.a.createElement("input",{type:"text",id:"image",name:"image",value:r.image,onChange:s,required:!0})),l.a.createElement("div",{className:"form-buttons"},l.a.createElement("button",{type:"button",className:"cancel-btn",onClick:t},"Cancel"),l.a.createElement("button",{type:"submit",className:"submit-btn"},"Create Event"))))))};var u=()=>{const[e,t]=Object(n.useState)(null),[a,r]=Object(n.useState)([]),[c,s]=Object(n.useState)([]),[i,m]=Object(n.useState)(!0),[u,p]=Object(n.useState)(null),[E,h]=Object(n.useState)(!1),[v,g]=Object(n.useState)(!1),[b,y]=Object(n.useState)(null),N=Object(o.p)(),f=localStorage.getItem("userId");Object(n.useEffect)(()=>{f||(console.warn("UserId is null, redirecting to home page..."),N("/"))},[f,N]),Object(n.useEffect)(()=>{if(!f)return;(async()=>{try{const e=await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/users/".concat(f));if(!e.ok)throw new Error("Failed to fetch user data.");const a=await e.json();t(a);const n=await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/events"),l=(await n.json()).filter(e=>e.organizerId===parseInt(f));r(l)}catch(u){console.error("Error fetching user data:",u),p("Failed to load user data.")}finally{m(!1)}})()},[f]);return i?l.a.createElement("div",null,"Loading..."):u?l.a.createElement("div",null,u):l.a.createElement("div",{className:"profile-page"},l.a.createElement("h1",null,"Welcome, ",e.name,"!"),"Teacher"===e.userType&&l.a.createElement("button",{onClick:()=>h(!0)},"Create Event"),E&&l.a.createElement(d,{onClose:()=>h(!1),onEventCreated:e=>{e?r(t=>[...t,e]):console.warn("No event data returned from CreateEventModal.")}}),v&&l.a.createElement(d,{onClose:()=>g(!1),onEventCreated:e=>{e&&r(t=>t.map(t=>t.id===e.id?e:t))},existingEvent:b}),l.a.createElement("h2",null,"Your Created Events"),a.length>0?a.map(e=>l.a.createElement("div",{key:e.id,className:"event-card"},l.a.createElement("h3",null,e.title),l.a.createElement("p",null,"Location: ",e.location),l.a.createElement("p",null,"Date: ",e.date),l.a.createElement("button",{onClick:()=>(e=>{y(e),g(!0)})(e)},"Update"),l.a.createElement("button",{onClick:()=>(async e=>{try{(await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/events/".concat(e),{method:"DELETE"})).ok?(alert("Event deleted successfully!"),r(t=>t.filter(t=>t.id!==e))):alert("Failed to delete event.")}catch(u){console.error("Error deleting event:",u),alert("An error occurred while trying to delete the event.")}})(e.id)},"Delete"))):l.a.createElement("p",null,"You have not created any events yet."))};var p=e=>{let{onClose:t,setIsLoggedIn:a,setUserName:r}=e;const[c,s]=Object(n.useState)({email:"",password:""}),o=e=>{const{name:t,value:a}=e.target;s(e=>Object(i.a)(Object(i.a)({},e),{},{[t]:a}))};return l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"modal"},l.a.createElement("button",{className:"close-btn",onClick:t},"\u2715"),l.a.createElement("div",{className:"modal-content"},l.a.createElement("h2",{className:"modal-title"},"Welcome Back!"),l.a.createElement("p",{className:"modal-subtitle"},"Sign in to discover and register for JIHC Events."),l.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/users"),n=(await e.json()).find(e=>e.email===c.email&&e.password===c.password);n?(console.log("User found!",n),a(!0),r(n.name),localStorage.setItem("userId",n.id),t()):alert("Invalid email or password.")}catch(n){console.error("Error signing in:",n),alert("Something went wrong. Please try again.")}},className:"modal-form"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"example@email.com",value:c.email,onChange:o,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",value:c.password,onChange:o,required:!0})),l.a.createElement("button",{type:"submit",className:"submit-btn"},"Sign In")))))};var E=e=>{let{onClose:t,setIsLoggedIn:a,setUserName:r}=e;const[c,s]=Object(n.useState)({name:"",email:"",password:"",userType:"Student"}),o=e=>{const{name:t,value:a}=e.target;s(e=>Object(i.a)(Object(i.a)({},e),{},{[t]:a}))};return l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"modal"},l.a.createElement("button",{className:"close-btn",onClick:t},"\u2715"),l.a.createElement("div",{className:"modal-content"},l.a.createElement("h2",{className:"modal-title"},"Create an Account"),l.a.createElement("p",{className:"modal-subtitle"},"Join our community of event-goers and explore amazing events!"),l.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),n=await e.json();e.ok?(a(!0),r(n.name),localStorage.setItem("userId",n.id),t()):alert(n.message||"Sign-up failed. Please try again.")}catch(n){console.error("Error signing up:",n),alert("Something went wrong. Please try again.")}},className:"modal-form"},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"name"},"Full Name"),l.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"John Doe",value:c.name,onChange:o,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"example@email.com",value:c.email,onChange:o,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",value:c.password,onChange:o,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"userType"},"User Type"),l.a.createElement("select",{name:"userType",id:"userType",value:c.userType,onChange:o,required:!0},l.a.createElement("option",{value:"Student"},"Student"),l.a.createElement("option",{value:"Teacher"},"Teacher"),l.a.createElement("option",{value:"Other"},"Other"))),l.a.createElement("button",{type:"submit",className:"submit-btn"},"Sign Up")))))};var h=()=>{const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)(!1),[c,o]=Object(n.useState)(!1),[i,m]=Object(n.useState)("");return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"header"}," ",l.a.createElement(s.b,{to:"/"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:"/jihc-logo-v1.png",alt:"JIHC Events Logo"}))),l.a.createElement("div",{className:"auth-buttons"},c?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.b,{to:"/profile",className:"btn profile-btn"},"Profile"),l.a.createElement("button",{onClick:()=>{o(!1),m(""),localStorage.removeItem("userId")},className:"btn logout-btn"},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:()=>{t(!0)},className:"btn sign-in-btn"},"Sign In"),l.a.createElement("button",{onClick:()=>{r(!0)},className:"btn sign-up-btn"},"Sign Up"))),e&&l.a.createElement(p,{onClose:()=>t(!1),setIsLoggedIn:o,setUserName:m}),a&&l.a.createElement(E,{onClose:()=>r(!1),setIsLoggedIn:o,setUserName:m})))};var v=()=>l.a.createElement("footer",{className:"footer"},l.a.createElement("div",{className:"footer-top"},l.a.createElement("div",{className:"footer-logo"},l.a.createElement("h2",null,"JIHC College"))),l.a.createElement("div",{className:"footer-contact"},l.a.createElement("div",{className:"footer-contact-item"},l.a.createElement("p",null,"123 JIHC Street, Main City, Country")),l.a.createElement("div",{className:"footer-contact-item"},l.a.createElement("p",null,"+123 456 789")),l.a.createElement("div",{className:"footer-contact-item"},l.a.createElement("p",null,"info@jihccollege.edu"))),l.a.createElement("div",{className:"footer-bottom"},l.a.createElement("ul",{className:"footer-links"},l.a.createElement("li",null,l.a.createElement("a",{href:"#about"},"About Us")),l.a.createElement("li",null,l.a.createElement("a",{href:"#contact"},"Contact")),l.a.createElement("li",null,l.a.createElement("a",{href:"#privacy"},"Privacy Policy"))),l.a.createElement("p",{className:"copyright"},"\xa9 ",(new Date).getFullYear()," JIHC College. All rights reserved.")));a(17);var g=()=>{const{eventId:e}=Object(o.r)(),[t,a]=Object(n.useState)(null),[r,c]=Object(n.useState)(!0),[s,m]=Object(n.useState)(null),d=Object(o.p)();Object(n.useEffect)(()=>{(async()=>{try{const t=await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/events/".concat(e));if(!t.ok)throw new Error("Failed to fetch event data.");const n=await t.json();a(n)}catch(s){console.error("Error fetching event data:",s),m("Failed to load event data.")}finally{c(!1)}})()},[e]);const u=e=>{const{name:t,value:n}=e.target;a(e=>Object(i.a)(Object(i.a)({},e),{},{[t]:n}))};return r?l.a.createElement("div",null,"Loading..."):s?l.a.createElement("div",{className:"error-message"},s):l.a.createElement("div",{className:"update-event-page"},l.a.createElement("h1",null,"Update Event"),l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();try{if(!(await fetch("https://jihceventsapi-hpdng8h8e7eqhdbm.canadacentral-01.azurewebsites.net/api/events/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to update event.");alert("Event updated successfully!"),d("/profile")}catch(s){console.error("Error updating event:",s),alert("Failed to update the event. Please try again.")}}},l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",name:"title",value:t.title,onChange:u,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"type"},"Type"),l.a.createElement("input",{type:"text",name:"type",value:t.type,onChange:u,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"date"},"Date"),l.a.createElement("input",{type:"date",name:"date",value:t.date,onChange:u,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"location"},"Location"),l.a.createElement("input",{type:"text",name:"location",value:t.location,onChange:u,required:!0})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"price"},"Price"),l.a.createElement("input",{type:"text",name:"price",value:t.price,onChange:u})),l.a.createElement("div",{className:"input-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("textarea",{name:"description",value:t.description,onChange:u,required:!0})),l.a.createElement("button",{type:"submit"},"Update Event")))};var b=()=>{const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)(null),[c,i]=Object(n.useState)(!1),[d,b]=Object(n.useState)(!0);Object(n.useEffect)(()=>{const e=localStorage.getItem("userId");e&&(r(e),t(!0))},[]);const y=()=>{i(!1)};return l.a.createElement(s.a,null,l.a.createElement(h,null),l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/",element:l.a.createElement(m,null)}),l.a.createElement(o.a,{path:"/profile",element:l.a.createElement(u,{userId:a})}),l.a.createElement(o.a,{path:"/sign-in",element:l.a.createElement(p,{onClose:y})}),l.a.createElement(o.a,{path:"/sign-up",element:l.a.createElement(E,{onClose:y})}),l.a.createElement(o.a,{path:"/update-event/:eventId",element:l.a.createElement(g,null)})),l.a.createElement(v,null))};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null)))},8:function(e,t,a){e.exports=a(18)}},[[8,1,2]]]);
//# sourceMappingURL=main.020eab2a.chunk.js.map